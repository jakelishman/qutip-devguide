

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Data Layer &mdash; QuTiP Developers&#39; Guide 5.0.0alpha1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Terminology" href="terminology.html" />
    <link rel="prev" title="Quantum Objects" href="../quantum-objects.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> QuTiP Developers' Guide
          

          
          </a>

          
            
            
              <div class="version">
                5.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">QuTiP Package</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../development-environment.html">Creating a Development Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quantum-objects.html">Quantum Objects</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Data Layer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="terminology.html">Terminology</a></li>
<li class="toctree-l3"><a class="reference internal" href="motivation.html">Motivation</a></li>
<li class="toctree-l3"><a class="reference internal" href="type-conversion.html">Converting Between Types: <code class="xref py py-obj docutils literal notranslate"><span class="pre">to</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="dispatch.html">Dispatch Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="types.html">Type Descriptions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebooks/index.html">Example Notebooks</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QuTiP Developers' Guide</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">QuTiP Package</a> &raquo;</li>
        
      <li>Data Layer</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/qutip/data-layer/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="data-layer">
<h1>Data Layer<a class="headerlink" href="#data-layer" title="Permalink to this headline">¶</a></h1>
<p>The bulk of mathematical heavy lifting in QuTiP is handled by functions on the
“data layer”.  The term “data layer” is used to refer to all linear algebra
types which QuTiP uses to represent low-level data, operations which take place
on these types, and the dispatch logic necessary to ensure that the correct
operations are called when given two arbitrary, known types.  Crucially, this
will work even if we have not defined a function which handles those particular
two types, so we do not need to rewrite the whole library eight times over; we
only write multiple specialisations for components that are speed bottlenecks.</p>
<p>All data types on the data layer inherit from <code class="xref py py-obj docutils literal notranslate"><span class="pre">qutip.core.data.Data</span></code>,
although this is itself an abstract type which cannot be instantiated.
Dispatch functions are instances of the type <code class="xref py py-obj docutils literal notranslate"><span class="pre">qutip.core.data.Dispatch</span></code>,
which provide a Python-callable interface.</p>
<p>The data layer is primarily written in Cython, and compiled to C++ before being
compiled fully into CPython extension types.</p>
<p>There are three main operations of the data layer:</p>
<ol class="arabic simple">
<li><p>conversion between data-layer types;</p></li>
<li><p>implementations of mathematical operations particular to a certain set of
inputs and an output;</p></li>
<li><p>a multiple-dispatch system which chooses the “best” specialisation for
a given mathematical operation, based on the input parameters it
receives, when it might not have a complete set of specialisations.</p></li>
</ol>
<p>Typically the user interacts indirectly with the data layer; various
<a class="reference external" href="http://qutip.org/docs/latest/apidoc/classes.html#qutip.Qobj" title="(in QuTiP: Quantum Toolbox in Python v4.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Qobj</span></code></a> operations will invoke it, but the user will not need to
worry about what it is doing.  All they will see is that QuTiP can use the best
data structures to represent their data, and everything will <em>just work</em>.  From
a developer’s perspective, it means that high-level QuTiP functions do not need
to concern themselves with what representation the data is stored in; they can
use low-level mathematical operations, and everything will work out.</p>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Sections</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="motivation.html">Motivation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="motivation.html#why-not-just-use-numpy">Why Not Just Use NumPy?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="type-conversion.html">Converting Between Types: <code class="xref py py-obj docutils literal notranslate"><span class="pre">to</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="type-conversion.html#basic-usage">Basic Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="type-conversion.html#adding-new-types">Adding New Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="type-conversion.html#how-it-works">How It Works</a></li>
<li class="toctree-l2"><a class="reference internal" href="type-conversion.html#implementation">Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="type-conversion.html#efficiency-notes">Efficiency Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dispatch.html">Dispatch Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="types.html">Type Descriptions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="types.html#abstract-base-data">Abstract Base: <code class="xref py py-obj docutils literal notranslate"><span class="pre">Data</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html#compressed-sparse-row-csr">Compressed Sparse Row: <code class="xref py py-obj docutils literal notranslate"><span class="pre">CSR</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html#dense-dense">Dense: <code class="xref py py-obj docutils literal notranslate"><span class="pre">Dense</span></code></a></li>
</ul>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="terminology.html" class="btn btn-neutral float-right" title="Terminology" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../quantum-objects.html" class="btn btn-neutral float-left" title="Quantum Objects" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, QuTiP developers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>